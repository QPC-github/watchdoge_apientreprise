shared: &SHARED
  api_version: 2
  options:
    recipient: 'SGMAP'
    context: 'Ping'

probtp: &PROBTP
  parameter: '73582032600040'

generic_siren: &GENERIC_SIREN
  parameter: '418166096'

generic_siret: &GENERIC_SIRET
  parameter: '55203253400646'

fntp_acoss_siren: &FNTP_ACOSS_SIREN
  parameter: '562077503'

endpoints:
  - name: cotisations_msa
    parameter: '38069910800011' # TODO MSA down
    <<: *SHARED

  - name: eligibilites_cotisation_retraite_probtp
    <<: *PROBTP
    <<: *SHARED

  - name: attestations_cotisation_retraite_probtp
    response_regexp:
      - name: url
        regexp: '^https:\/\/storage\.apientreprise\.fr\/siade(_dev|_staging|)\/attestation\%[a-zA-Z0-9]{34}_probtp_cotisation_retraite.pdf$'
    <<: *PROBTP
    <<: *SHARED

  - name: entreprises
    <<: *GENERIC_SIREN
    <<: *SHARED

  - name: extraits_rcs_infogreffe
    <<: *GENERIC_SIREN
    <<: *SHARED

  - name: etablissements
    parameter: '41816609600069'
    <<: *SHARED

  - name: exercices
    <<: *GENERIC_SIRET
    <<: *SHARED

  - name: attestations_agefiph
    parameter: '00552017600016'
    response_regexp:
      - name: dump_date
        regexp: '\d+'
    <<: *SHARED

  - name: attestations_fiscales_dgfip
    api_version: 2
    parameter: '552032534'
    options:
      recipient: 'SGMAP'
      context: 'Ping'
      siren_is: '552032534'
      siren_tva: '552032534'
    response_regexp:
      - name: url
        regexp: '^https:\/\/storage\.apientreprise\.fr\/siade(_dev|_staging|)\/attestation\%[a-zA-Z0-9]{34}_fiscale_dgfip.pdf$'

  - name: attestations_sociales_acoss
    response_regexp:
      - name: url
        regexp: '^https:\/\/storage\.apientreprise\.fr\/siade(_dev|_staging|)\/attestation\%[a-zA-Z0-9]{34}_sociale.pdf$'
    <<: *FNTP_ACOSS_SIREN
    <<: *SHARED

  - name: certificats_qualibat
    parameter: '33592022900036'
    response_regexp:
      - name: url
        regexp: '^https:\/\/storage\.apientreprise\.fr\/siade(_dev|_staging|)\/attestation\%[a-zA-Z0-9]{34}_qualibat.pdf$'
    <<: *SHARED

  - name: certificats_cnetp
    parameter: '632049128'
    response_regexp:
      - name: url
        regexp: '^https:\/\/storage\.apientreprise\.fr\/siade(_dev|_staging|)\/attestation\%[a-zA-Z0-9]{34}_cnetp.pdf$'
    <<: *SHARED

  - name: certificats_opqibi
    parameter: '395301641'
    <<: *SHARED

  - name: associations
    parameter: 'W604004799'
    <<: *SHARED

  - name: extraits_courts_inpi
    parameter: '542065479'
    <<: *SHARED

  - name: cartes_professionnelles_fntp
    response_regexp:
      - name: url
        regexp: '^https:\/\/storage\.apientreprise\.fr\/siade(_dev|_staging|)\/attestation\%[a-zA-Z0-9]{34}_carte_professionnelle_fntp.pdf$'
    <<: *FNTP_ACOSS_SIREN
    <<: *SHARED
